<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="semantic.min.css" />
    <link href="main.css" rel="stylesheet" />
  </head>
  <body>
    <div id="content" style="padding: 1px"></div>

    <script id="tasks-hdbs" type="text/x-handlebars-template">
      <div>
        <dl>
          <div class="py-2 sm:grid grid-cols-2 sm:grid-cols-2 sm:gap-2 sm:py-5">
            <dt class="text-base font-medium text-gray-500">Name</dt>
            <dd class="mt-1 flex text-base text-gray-900 sm:col-span-1 sm:mt-0">
              <span class="flex-grow">
                <a
                  href="https://app.copper.com/companies/{{custom_fields.0.user_company_id}}/app#/contacts/default/contact/{{id}}"
                  target="_blank"
                  class="flex items-center gap-x-2"
                >{{name}}
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-4 h-4"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
                    ></path>
                  </svg>
                </a>
              </span>
            </dd>
          </div>

          <div class="py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5">
            <dt class="text-base font-medium text-gray-500">Email</dt>
            <dd class="mt-1 flex text-base text-gray-900 sm:col-span-2 sm:mt-0">
              {{#each emails}}
                <span class="flex-grow">
                  <a href="mailto:{{email}}">{{email}}</a>
                  <span
                    class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"
                  >{{category}}</span>
                </span>
              {{/each}}

            </dd>
          </div>

          <div class="py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5">
            <dt class="text-base font-medium text-gray-500">Company</dt>
            <dd class="mt-1 flex text-base text-gray-900 sm:col-span-2 sm:mt-0">
              <span class="flex-grow">
                <a
                  href="https://app.copper.com/companies/{{custom_fields.0.user_company_id}}/app#/organizations/default/organization/{{company_id}}"
                  target="_blank"
                  class="flex items-center gap-x-2"
                >{{company_name}}
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-4 h-4"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
                    ></path>
                  </svg>
                </a>
              </span>

            </dd>
          </div>
        </dl>

      </div>
    </script>

    <script id="add-customer" type="text/x-handlebars-template">
      <div class="ui basic segment">
        <div>This person hasn't been added to the CRM yet.</div>
      </div>
      <button
        onclick="openAddCustomerModal()"
        class="ui primary fluid button"
      >Add to CRM</button>
    </script>

    <script id="add-customer-form" type="text/x-handlebars-template">
      <p class="ui header" style="margin-bottom:0;">Add to CRM</p>
      <form action="#" id="add-customer-form" class="ui form">
        <div class="field">
          <label>Full Name</label>
          <div class="ui input">
            <input
              type="text"
              name="name"
              placeholder="Full Name"
              value="{{name}}"
              required
            />
          </div>
        </div>
        <div class="two fields">
          <div class="field">
            <label>Email</label>
            <div class="ui input">
              <input
                type="email"
                name="email"
                placeholder="Email"
                value="{{email}}"
                required
              />
            </div>
          </div>
          <div class="field">
            <label>Owner</label>
            <select
              id="owners-select"
              name="owner"
              class="ui search selection dropdown"
            >
              <option value="">Select Owner</option>
            </select>
          </div>
        </div>
        <div class="two fields">
          <div class="field">
            <label>Title</label>
            <div class="ui input">
              <input type="text" name="title" placeholder="Title" />
            </div>
          </div>
        </div>
        <div class="field">
          <label>Street</label>
          <div class="ui input">
            <input type="text" name="street" placeholder="Street" />
          </div>
        </div>
        <div class="three fields">
          <div class="field">
            <label>City</label>
            <div class="ui input">
              <input type="text" name="city" placeholder="City" />
            </div>
          </div>
          <div class="field">
            <label>State</label>
            <div class="ui input">
              <input type="text" name="state" placeholder="State" />
            </div>
          </div>
          <div class="field">
            <label>Postal code</label>
            <div class="ui input">
              <input type="text" name="postalCode" placeholder="Postal Code" />
            </div>
          </div>
        </div>
        <div class="field">
          <label>Country</label>
          <div class="ui input">
            <input type="text" name="country" placeholder="Country" />
          </div>
        </div>
        <div class="field">
          <label>Phone Number</label>
          <div class="ui input">
            <input type="text" name="phoneNumber" placeholder="Phone number" />
          </div>
        </div>
        <button
          type="submit"
          class="ui fluid primary submit button"
        >Submit</button>
      </form>
    </script>

    <script id="error-hdbs" type="text/x-handlebars-template">
      <p>{{status}}: {{statusText}}</p>
    </script>

    <script id="loading" type="text/x-handlebars-template">
      <div class="ui active inverted dimmer">
        <div class="ui text loader">Loading</div>
      </div>
    </script>

    <!-- https://github.com/zendesk/zendesk_app_framework_sdk -->
    <script
      type="text/javascript"
      src="https://static.zdassets.com/zendesk_app_framework_sdk/2.0/zaf_sdk.min.js"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
    <script src="semantic.min.js"></script>
    <script type="text/javascript" src="main.js"></script>
  </body>
</html>
